# OSAGO-aggregator
Сервис по агрегации предложений от СК по полису ОСАГО.
Есть своя база данных для хранений актуальных страховых продуктов.
API сервиса:
POST/products - возвращает список доступных продуктов для клиента
POST/app/send - отправляет заявку на получение полиса
GET/app/get - возвращает состояние заявки (одобрена, на рассмотрении, отклонено и т.д.)
POST/app/close - закрывает заявку 

Схема взаимодействия с core-app REST если брать старую схему as-is, я же предлагаю сделать Kafka с ED подоходом.

Если же мы выбираем кафку, то взаимодействие будет через эвенты:
AvailableProducts, CreateApplication, ApplicationStatus, CloseApplication
а API для web приложения будет аналогично API сервиса (web->core-app взаимодействие)

Как паттерн отказоустойчивости мне нравится вариант с CirciutBraker т.к. если системы предоставляющие инфо об ОСАГО
будут недоступны мы просто повесим заглушку для клиентов пытающихся взять осаго, что сервис в данный момент недоступен, просим прощения

